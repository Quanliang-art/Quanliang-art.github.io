<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="renderer" content="webkit" />
	<meta name="force-rendering" content="webkit" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
	<title>首页</title>
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="viewport"
		content="width=device-width, maximum-scale=1, initial-scale=1, user-scalable=no, viewport-fit=cover">
	<link rel="stylesheet" type="text/css" href="./static/css/swiper-bundle.min.css" />
	<link rel="stylesheet" type="text/css" href="./static/css/tailwind.css" />
	<link rel="stylesheet" type="text/css" href="./static/css/common.css" />
	<link rel="stylesheet" type="text/css" href="./static/css/style.css" />
	<link rel="stylesheet" type="text/css" href="./static/css/responsive.css" />
</head>
<body>
	<div class="time-line-green-wrap time-line-wrap ">
		<div class="container gridding-green-bg">
			<div class="hd globla-hd">
				<a class="back-button" href='javascript:history.back(-1)'>
					<img src="./static/images/back_green.png" alt="">
				</a>
				<div class="time-line">
					<div class="box">
						<a class="global-link green" href='time_line_green.html'>The Timeline of Preservation</a>
						<a class="global-link red" href='time_line_red.html'>The Timeline of Destruction</a>
					</div>
				</div>
			</div>
			<div class="introduce">
				<div class="left">
					<p>
						This page presents a timeline of human efforts to breed and protect the Galapagos tortoise population from the 20th to the 21th century. The images of the objects on the left correspond to different points in history when the tortoises were protected. By clicking on these images, visitors will be directed to links providing literature, images, or videos related to each time point, allowing them to explore the materials at their own discretion.
					</p>
				</div>
				<div class="right">
					<p>
						The color intensity of the bar below indicates the number of tortoises in different periods. The darker the color, the greater the number of tortoises.
					</p>
				</div>
			</div>
			<div class="history">
				<div class="tool">
					<div class="item">
						<img src="./static/images/tool_green_1.png" alt="">
						<div class="date">
							<div class="box">
								<span>1959</span>
								<i></i>
							</div>
						</div>
						<a class="link link-img"  href='price_green_page1.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_green_page1.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
						<a class="link link-video"  href='video_green_1959.html'>
							<div class="box">
								<span>Video</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_green_2.png" alt="">
						<div class="date">
							<div class="box">
								<span>1965</span>
								<i></i>
							</div>
						</div>
						<a class="link link-img"  href='price_green_page2.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_green_page2.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
						<a class="link link-video"  href='video_green_1965.html'>
							<div class="box">
								<span>Video</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_green_3.png" alt="">
						<div class="date">
							<div class="box">
								<span>1997</span>
								<i></i>
							</div>
						</div>
						<a class="link link-img"  href='price_green_page3.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_green_page3.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
						<a class="link link-video"  href='video_green_1997.html'>
							<div class="box">
								<span>Video</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_green_4.png" alt="">
						<div class="date">
							<div class="box">
								<span>2019</span>
								<i></i>
							</div>
						</div>
						<a class="link link-img"  href='price_green_page4.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_green_page4.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
						<a class="link link-video"  href='video_green_2019.html'>
							<div class="box">
								<span>Video</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_green_5.png" alt="">
						<div class="date">
							<div class="box">
								<span>2020</span>
								<i></i>
							</div>
						</div>
						<a class="link link-img"  href='price_green_page5.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_green_page5.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
						<a class="link link-video"  href='video_green_2020.html'>
							<div class="box">
								<span>Video</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_green_6.png" alt="">
						<div class="date">
							<div class="box">
								<span>2024</span>
								<i></i>
							</div>
						</div>
						<a class="link link-img"  href='price_green_page6.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_green_page6.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
						<a class="link link-video"  href='video_green_2024.html'>
							<div class="box">
								<span>Video</span>
								<i></i>
							</div>
						</a>
					</div>
				</div>
				<div class="timeline">
					<div class="entry">
						<span></span>
						<span></span>
					</div>
					<img class="img" src="./static/images/timeLine2.png" alt="">
					<div class="svg-box">
						<svg width="100%" height="100%" viewBox="0 0 1069 5441">
							<path id="path" fill="none" d="M739 0.5L669.998 70.5L554.998 179.5C515.498 215.5 516.5 276.5 534.498 297.5C552.497 318.5 588.997 328.5 591.498 353C594 377.5 525.867 419.426 512.499 468.5C499.13 517.574 522.499 577 527.499 580.5C583 694.5 820.497 731 853.498 749.5C886.5 768 975 813.5 875 905.5C775 997.5 705.027 1049.8 681.498 1099.5C657.97 1149.2 651.498 1310 603.498 1346C555.498 1382 59.5 1611 20.999 1698C-17.502 1785 3.99867 1841.5 39.999 1908C75.9993 1974.5 256.499 2144.5 296.499 2207C317.499 2263 201.889 2367.89 180.499 2441.5C159.109 2515.11 153.225 2623.5 180.499 2668.5C207.773 2713.5 415.999 2682.5 422.499 2743C432.999 2788.5 411.999 2803 344.499 2851C310.999 2889.5 307.999 2900 298.499 2928C298.499 2928 277.699 3012 320.499 3038C363.299 3064 405.999 3065.5 405.999 3094C405.999 3122.5 340.121 3135.5 368.799 3228.04C447.499 3482 758.806 3367.5 810.498 3391.5C936.498 3450 875.858 3524 852.498 3572.5C834.317 3610.25 783.498 3662 754.498 3710C659.342 3867.5 796.072 4019.35 727.498 4063.5C697.999 4082.49 509.499 4217.04 402.499 4297C317.499 4360.52 298.666 4534 349.999 4632C401.332 4730 661.998 4857 713.998 4931C745.998 4983 642.228 5073.17 630.998 5104C619.768 5134.83 604.498 5225.5 644.998 5285C685.498 5344.5 727.498 5372.5 785.498 5376.5C843.498 5380.5 868.998 5371.5 903.998 5395C938.998 5418.5 933 5413 933 5413"/>
						</svg>
					</div>
					<ul id="wuguiBox"></ul>
					<ul id="wuguiBox2">
						<li class="wugui wugui_0" data-index="0"></li>
						<li class="wugui wugui_1" data-index="1"></li>
						<li class="wugui wugui_2" data-index="2"></li>
						<li class="wugui wugui_3" data-index="3"></li>
					</ul>
				</div>
				<ul class="right-list">
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								When the Galapagos National Park was established in 1959, there were 11 surviving tortoise species. 
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								Earlier this year, some eggs were taken out of nests and given to the captive breeding program on Santa Cruz, where the hatching success rate is approximately 75%.
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								As the goat populations declined, the vegetation underwent an amazing recovery. Small trees began regenerating from the stumps left by the goats. Highland shrub species, forest tree seedlings, Opuntia cactus, and other endemic species increased in number. 
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								The finding of one alive specimen gives hope and also opens up new questions as many mysteries still remain.
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								A breeding program to restore tortoises to Floreana Island, where the native tortoise species went extinct in the 1800s, began in 2017.
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								The Galapagos National Park Directorate, in partnership with Galapagos Conservancy, successfully repatriated 136 juvenile tortoises to the Cinco Cerros area on Isabela Island’s Cerro Azul volcano.
							</p>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<script src="./static/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="./static/js/swiper-bundle.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="./static/js/gsap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="./static/js/MotionPathPlugin.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="./static/js/script.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		let arr = [];
		let flag = false;
		let timer = null;
		window.addEventListener('resize',throttle(() => {
			location.reload();
		}))
		$(function () {
			gsap.registerPlugin(MotionPathPlugin);
			init()
			$(".tool .item").on("click",function(){
			/*if($(this).hasClass('active')){ //禁止二次点击触发弹出事件
					return false
				}*/
				let index = $(this).index()
				$(this).addClass("active")
				if( $(".tool .item.active").length === 6){
					createdWugui()
				}
				const actionMap = {
					0: {
						elements: [".wugui_1", ".wugui_2"],
						audioIndices: [1, 2]
					},
					1: {
						elements: [".wugui_3", ".wugui_4", ".wugui_5"],
						audioIndices: [3, 4, 5]
					},
					2:{
						elements: [".wugui_6", ".wugui_7", ".wugui_8", ".wugui_9"],
						audioIndices: [6, 7, 8,9]
					},
					3:{
						elements: [".wugui_10", ".wugui_11", ".wugui_12"],
						audioIndices: [10, 11, 12]
					},
					4:{
						elements: [".wugui_13", ".wugui_14", ".wugui_15", ".wugui_16"],
						audioIndices: [13, 14, 15,16]
					},
					5:{
						elements: [".wugui_17", ".wugui_18", ".wugui_19", ".wugui_20"],
						audioIndices: [17, 18, 19,20]
					},
				};
				if (actionMap[index]) {
					actionMap[index].elements.forEach(element => $(element).addClass("active"));
					actionMap[index].audioIndices.forEach(index => arr[index].play());
				}
			})
		})
		function init(){
			for(let i = 0; i < 20; i++){
				let index = 20 - i;
				let time = (80 - 80 * (index * 0.045)).toFixed(2)
				let tag = `<li class="wugui_${index}" data-index="${index}"></li>`;
				$("#wuguiBox").append(tag)
				arr[index] = gsap.to(`#wuguiBox .wugui_${index}`, {
					duration:time, 
					repeat: 0,
					repeatDelay: 0,
					yoyo: false,
					ease: "linear",
					onStart:function(){
						arr[index].pause() 
						$("#wuguiBox li").css({
							"margin-left":'400px'
						})
					},
					onComplete :function(){
						let indexs = $(this)[0].targets()[0].getAttribute("data-index");
						$(`#wuguiBox .wugui_${indexs}`).remove()
					},
					motionPath:{
						path: "#path",
						align: "#path",
						autoRotate: true,
						alignOrigin: [0.5, 0.5],
						start:index * 0.048,
						end:1,
						offsetY:0,
						offsetX:0,
					},
				});	
			}
		}
		let idealInterval = 6000; // 设定的理想间隔时间
		// 创建标签，并调用gsap动画
		function createdWugui(){
			let length = $("#wuguiBox2 li").length || 0
			let tag = `<li class="wugui wugui_${length}" data-index="${length}"></li>`
			console.log('创建乌龟',length);
			$("#wuguiBox2").append(tag)
			gsap.to(`#wuguiBox2 .wugui_${length}`, {
				duration:80, 
				delay:0,
				repeat: -1,
				repeatDelay: 0,
				yoyo: false,
				ease: "linear",
				/* onComplete :function(){
					let indexs = $(this)[0].targets()[0].getAttribute("data-index");
					console.log('creat',indexs);
					$(`#wuguiBox2 .wugui_${indexs}`).remove()
				}, */
				motionPath:{
					path: "#path",
					align: "#path",
					autoRotate: true,
					alignOrigin: [0.5, 0.5],
					offsetY:0,
					offsetX:0,
				},
			});
			if(length < 13){
				setTimeout(createdWugui, idealInterval);
			}
		}
		/* 节流
			\* func <Function> 触发回调执行的函数
			\* wait <Number> 时间间隔，单位ms 
				immediate  true  第一次执行  false  最后一次执行
		*/
		function throttle(func, wait = 500, immediate = true) {

			let context, args, timeout;

			let old = 0; // 时间戳

			return function () {

			context = this;

			args = arguments;

			let now = new Date().valueOf();

			if (immediate === false && old == 0) old = now; // 不要立即执行，则第一次不会进入if(now-old>wait)

			if (now - old > wait) {

				// 当时间间隔达到一个周期则执行此代码块

				// 第一次会直接执行

				if (timeout) {

					// 将计时器清除，防止执行两次响应函数

					clearTimeout(timeout);

					timeout = null;

				}

				func.apply(context, args);

				old = now;

			} else if (!timeout && immediate === true) {

				// 当时间间隔未达到一个周期时则执行此代码块

				// 最后一次被执行

				timeout = setTimeout(function () {

					// 在一般情况下是不会执行这个延迟函数的，只有在最后一次执行此延迟函数

					old = new Date().valueOf(); // 在最后一次执行时候将old置为当前时间，防止下一次操作响应的时间间隔不足wait

					timeout = null;

					func.apply(context, args);

				}, wait);

			}

			};

		}
	</script>
</body>

</html>