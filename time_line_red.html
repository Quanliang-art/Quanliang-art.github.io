<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="renderer" content="webkit" />
	<meta name="force-rendering" content="webkit" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
	<title>首页</title>
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="viewport"
		content="width=1200">
	<link rel="stylesheet" type="text/css" href="./static/css/swiper-bundle.min.css" />

	<link rel="stylesheet" type="text/css" href="./static/css/tailwind.css" />
	<link rel="stylesheet" type="text/css" href="./static/css/common.css" />
	<link rel="stylesheet" type="text/css" href="./static/css/style.css" />
	<link rel="stylesheet" type="text/css" href="./static/css/responsive.css" />
</head>

<body>
	<div class="time-line-red-wrap time-line-wrap">
		<div class="container gridding-red-bg">
			<div class="hd globla-hd">
				<a class="back-button" href='javascript:history.back(-1)'>
					<img src="./static/images/back_red.png" alt="">
				</a>
				<div class="time-line">
					<div class="box">
						<a class="global-link green" href='time_line_green.html'>The Timeline of Preservation</a>
						<a class="global-link red" href='time_line_red.html'>The Timeline of Destruction</a>
					</div>
				</div>
			</div>
			<div class="introduce">
				<div class="left">
					<p>
						This page presents a timeline of human destruction of the Galapagos tortoise population from the 18th to the 20th century. The images of the objects on the left correspond to different points in history when the tortoises were harmed. By clicking on these images, visitors will be directed to links providing literature, images, or videos related to each time point, allowing them to explore the materials at their own discretion.
					</p>
				</div>
				<div class="right">
					<p>
						The color intensity of the bar below indicates the number of tortoises killed in different periods. The
						darker the color, the greater the number of tortoises killed.
					</p>
				</div>
			</div>
			<div class="history">
				<div class="tool">
					<div class="item">
						<img src="./static/images/tool_red_1.png" alt="">
						<div class="date">
							<div class="box">
								<span>1792</span>
								<i></i>
							</div>
						</div>
						<a class="link link-img"  href='price_red_page1.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_red_page1.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_red_2.png" alt="">
						<div class="date">
							<div class="box">
								<span>1813</span>
								<i></i>
							</div>
						</div>
						<a class="link link-img"  href='price_red_page3.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_red_page3.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_red_3.png" alt="">
						<div class="date">
							<div class="box">
								<span>1850</span>
								<i></i>
							</div>
						</div>
						<a class="link link-img"  href='price_red_page4.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_red_page4.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_red_4.png" alt="">
						<div class="date">
							<div class="box">
								<span>1875</span>
								<i></i>
							</div>
						</div>
						<a class="link link-video"  href='video_red_1875.html'>
							<div class="box">
								<span>Video</span>
								<i></i>
							</div>
						</a>
						<a class="link link-img"  href='price_red_page2.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_red_page2.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_red_5.png" alt="">
						<div class="date">
							<div class="box">
								<span>1959</span>
								<i></i>
							</div>
						</div>
						<a class="link link-video"  href='video_red_1959.html'>
							<div class="box">
								<span>Video</span>
								<i></i>
							</div>
						</a>
						<a class="link link-img"  href='price_red_page5.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_red_page5.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
					</div>
					<div class="item">
						<img src="./static/images/tool_red_6.png" alt="">
						<div class="date">
							<div class="box">
								<span>2012</span>
								<i></i>
							</div>
						</div>
						<a class="link link-video"  href='video_red_2012.html'>
							<div class="box">
								<span>Video</span>
								<i></i>
							</div>
						</a>
						<a class="link link-img"  href='price_red_page6.html'>
							<div class="box">
								<span>Images</span>
								<i></i>
							</div>
						</a>
						<a class="link link-article"  href='article_red_page6.html'>
							<div class="box">
								<span>Article</span>
								<i></i>
							</div>
						</a>
					</div>
				</div>
				<div class="timeline">
					<div class="entry">
						<span></span>
						<span></span>
					</div>
					<img class="img" src="./static/images/timeLine.png" alt="">
					<div class="svg-box">
						<svg width="100%" height="100%" viewBox="0 0 1006 5641" id="svg">
							<path id="path" fill="transparent" d="M0.5 1C0.5 1 103.5 197 145 203C186.5 209 194.5 174 215.5 169.5C236.5 165 241.095 186.048 240.5 203C239.905 219.952 200.5 235.5 200.5 264.5C200.5 293.5 266.667 325.101 267 321C267 321 416.5 376.5 438 377C459.5 377.5 547 347.5 567.5 353C588 358.5 610 366 619 385.5C628 405 625.5 449 635 462.5C644.5 476 670 513 687.5 514C705 515 805 455 821.5 457C838 459 844.5 473 851 497C857.5 521 829.5 587 832 608C834.5 629 865 629 868 652C871 675 825.5 708 808 745C790.5 782 705 1006 700.5 1044C696 1082 711.5 1132.5 724.5 1158C737.5 1183.5 814 1208 840.5 1226.5C867 1245 930 1346 930 1375C930 1404 907 1448 867 1445C827 1442 729.5 1348 700.5 1335C671.5 1322 603.5 1358 581 1375C558.5 1392 511.5 1446.5 507.5 1483.5C503.5 1520.5 669 1818.5 661 1838C653 1857.5 637.5 1919 603.5 1918C569.5 1917 509 1830 489.5 1828.5C470 1827 384 1880 368.5 1899C353 1918 341 1955.5 345 1990.5C349 2025.5 408.5 2057 415.5 2101.5C422.5 2146 513.5 2383 513.5 2383C513.5 2383 550 2467 563 2484C613.5 2525.5 761.5 2521.5 767.5 2560C773.5 2598.5 680.5 2604 680.5 2604C622.5 2615.5 588 2657.5 582 2676C576 2694.5 570 2755 576 2779C582 2803 652 2882.5 652 2882.5C669.608 2904.11 667.5 2895 690.5 2919.5C713.5 2944 639.5 2980 645.5 3010.5C645.5 3068.5 738 3143.5 738 3143.5C769.5 3175 767.5 3191 790 3214.5C812.5 3238 900.504 3208.92 914 3258.5C921.554 3286.25 914.749 3306.77 898.5 3330.5C863.09 3382.22 799.055 3316.32 738 3330.5C697.029 3340.01 669.879 3343.06 638 3370.5C589.04 3412.64 540.693 3477.68 583 3526.5C596.301 3541.85 607.444 3547.98 626.5 3555C660.455 3567.51 684.504 3538.57 719 3549.5C758.417 3561.99 798 3620 798 3620C798 3620 871 3726 880.5 3749C890 3772 884.462 3865.71 887 3940.5C887 3940.5 876 4005 894 4035.5C912 4066 1012.5 4120.5 1006 4138.5C999.5 4156.5 934.5 4138.5 934.5 4138.5C934.5 4138.5 811.5 4097 790 4103C768.5 4109 677 4142.5 670.5 4153.5C664 4164.5 644.5 4201.5 633 4235.5C621.5 4269.5 649.5 4358 660 4379C670.5 4400 795 4464.5 795 4497C795 4529.5 795 4609.5 778.5 4618.5C762 4627.5 707.5 4675.5 670.5 4671C633.5 4666.5 460 4477 436.5 4474C413 4471 349.5 4495.5 332.5 4522.5C315.5 4549.5 298 4603 290 4637C282 4671 332.5 4834.5 332.5 4834.5C332.5 4834.5 372.5 4972.5 392.5 5011.5C412.5 5050.5 498 5082.5 506.5 5108.5C515 5134.5 528.5 5272 515 5305.5C501.5 5339 402 5412 402 5412C402 5412 292 5485.5 280.5 5516.5C269 5547.5 287 5720.5 287 5720.5"  />
						</svg>
					</div>
					<div id="wuguiBox" class="svg-box"></div>
				</div>
				<ul class="right-list">
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								During this time, an estimated 200,000 giant tortoises were removed from Galapagos.
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								Between 1831 and 1868, seventy-nine vessels visited the Galápagos and carried off 13,013 tortoises.
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								Historians believe they gathered more than 100,000 tortoises over the centuries.
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								The catch in this case appears to have been thirty-six tortoises, which, at seventy-five pounds each,
								weighed 2,700 pounds.
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								As the goats stripped more and more of the land bare, the tortoises began to disappear.
							</p>
						</div>
					</li>
					<li>
						<i class="icon"></i>
						<div class="dropdown">
							<p>
								Lonesome George, the sole remaining Pinta Island tortoise and Galapagos conservation icon, was found
								dead in his corral.
							</p>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<script src="./static/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="./static/js/swiper-bundle.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="./static/js/gsap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="./static/js/MotionPathPlugin.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="./static/js/script.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		let arr = [];
		let flag = false
		window.addEventListener('resize',throttle(() => {
			location.reload();
		}))
		$(function () {
			gsap.registerPlugin(MotionPathPlugin);
			init()
			$(".tool .item").on("click", function (e) {
				e.stopPropagation()
				stopAnimation() //停止生成海龟
				/* if(!$(this).hasClass('active')){ //禁止二次点击触发弹出事件
						
				} */
				$(this).addClass("active") 
				let index = $(this).index()
				let regionTop = $(this).position().top - 100;
				let regionBottom = regionTop + $(this).height() + 100;
				 // 遍历所有乌龟，找到在该区域内的乌龟
				let turtlesInRegion = $('#wuguiBox .wugui').filter(function() {
					let turtleTop = $(this).position().top;
					let turtleBottom = turtleTop + $(this).height();
					return turtleTop >= regionTop && turtleBottom <= regionBottom;
				});
				if (turtlesInRegion.length > 0) {
					turtlesInRegion.each(function(){
						let t_index = $(this).data('index')
						arr[t_index].pause()
						$(this).addClass('ani')
					})
				}
			})
		})
		function init(){
			for(let i = 0; i < 20; i++){
				let index = 20 - i;
				let time = (80 - 80 * (index * 0.05)).toFixed(2)
				let tag = `<div class="wugui wugui_${index}" data-index="${index}"></div>`;
				$("#wuguiBox").append(tag)
				arr[index] = gsap.to(`.wugui_${index}`, {
					duration:time, 
					repeat: 0,
					repeatDelay: 0,
					yoyo: false,
					ease: "linear",
					onComplete :function(){
						let indexs = $(this)[0].targets()[0].getAttribute("data-index");
						$(`.wugui_${indexs}`).remove()
						console.log('init',index);
						if(flag) return false
						createdWugui(indexs)
					},
					motionPath:{
						path: "#path",
						align: "#path",
						autoRotate: true,
						alignOrigin: [0.5, 0.5],
						start:index * 0.048,
						end:1,
						offsetY:0,
						offsetX:0,
					},
				});	
			}
		}
		// 创建标签，并调用gsap动画
		function createdWugui(rowIndex){
			let tag = `<div class="wugui wugui_${rowIndex}" data-index="${rowIndex}"></div>`
			$("#wuguiBox").append(tag)
			arr[rowIndex] = gsap.to(`.wugui_${rowIndex}`, {
				duration:80, 
				repeat: 0,
				repeatDelay: 0,
				yoyo: false,
				ease: "linear",
				onComplete :function(){
					let indexs = $(this)[0].targets()[0].getAttribute("data-index");
					$(`.wugui_${indexs}`).remove()
					console.log('creat',indexs);
					if(flag) return false
					createdWugui(indexs)
				},
				motionPath:{
					path: "#path",
					align: "#path",
					autoRotate: true,
					alignOrigin: [0.5, 0.5],
					offsetY:0,
					offsetX:0,
				},
			});
		}
		function stopAnimation(){
			flag = true
		}
		/* 节流

			\* func <Function> 触发回调执行的函数

			\* wait <Number> 时间间隔，单位ms 
				immediate  true  第一次执行  false  最后一次执行
		*/

		function throttle(func, wait = 500, immediate = true) {

			let context, args, timeout;

			let old = 0; // 时间戳

			return function () {

			context = this;

			args = arguments;

			let now = new Date().valueOf();

			if (immediate === false && old == 0) old = now; // 不要立即执行，则第一次不会进入if(now-old>wait)

			if (now - old > wait) {

				// 当时间间隔达到一个周期则执行此代码块

				// 第一次会直接执行

				if (timeout) {

					// 将计时器清除，防止执行两次响应函数

					clearTimeout(timeout);

					timeout = null;

				}

				func.apply(context, args);

				old = now;

			} else if (!timeout && immediate === true) {

				// 当时间间隔未达到一个周期时则执行此代码块

				// 最后一次被执行

				timeout = setTimeout(function () {

					// 在一般情况下是不会执行这个延迟函数的，只有在最后一次执行此延迟函数

					old = new Date().valueOf(); // 在最后一次执行时候将old置为当前时间，防止下一次操作响应的时间间隔不足wait

					timeout = null;

					func.apply(context, args);

				}, wait);

			}

			};

		}
	
	</script>
</body>

</html>